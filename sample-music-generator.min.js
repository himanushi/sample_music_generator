/*! https://himakan.net/tool/sample-music-generator MIT license */var smg={};!function(){"use strict";function e(){$.getJSON(g,k,function(e,n){$.each(e.results,function(e,t){h.append(c(t)),smg.result_list.push(t)}),t(v+_)})}function t(e){k.offset=v=e}function n(){a(),r(""),i(),s()}function a(){smg.result_list=[]}function r(e){k.term=e}function i(){k.offset=v=0}function s(){h.children().remove()}function c(e){return $("<div>",{"data-song-no":smg.result_list.length}).append($("<img>",{src:e.artworkUrl100})).append($("<p>",{text:"アーティスト名:"+e.artistName})).append($("<p>",{text:"アルバム名:"+e.collectionName})).append($("<p>",{text:"曲名:"+e.trackName})).click(function(e){p(e.currentTarget)})}function p(e){var t=$("#generator"),n=$("#preview"),a=smg.result_list[e.dataset.songNo],r=f(),i=u(a,r);t.children().remove(),t.append($("<textarea>",{id:"generator_text",text:l(a,r)})),n.children().remove(),n.append(i),$("#copy").css("display","inline").text("コピー")}function l(e,t){return'<div id="'+t+"\"><script>(function(d){function cE(e){return d.createElement(e)}l=cE('a');l.href='"+d(e.trackViewUrl)+"';l.target='_blank';l.innerText='"+o(e.trackName)+"';t=cE('p');t.className='itunes_sample_title';t.appendChild(l);a=cE('p');a.className='itunes_sample_artist';a.innerText='"+o(e.artistName)+"';e=cE('p');e.className='itunes_sample_date';e.innerText='"+m(e.releaseDate)+"';i=cE('div');w=cE('img');w.src='"+e.artworkUrl100+"';i.className='itunes_sample_info';i.appendChild(t);i.appendChild(a);i.appendChild(e);u=cE('audio');u.src='"+e.previewUrl+"';u.controls=true;p=cE('div');p.className='itunes_sample_player';p.appendChild(w);p.appendChild(i);p.appendChild(u);v=d.getElementById('"+t+"');v.children[0].remove();v.appendChild(p);})(document);<\/script></div>"}function o(e){return"string"!=typeof e?e:e.replace(/['`<>]/g,function(e){return{"'":"\\'","`":"\\`","<":"\\<",">":"\\>"}[e]})}function u(e,t){return $("<div>",{class:"itunes_sample_player"}).append($("<img>",{src:e.artworkUrl100})).append($("<div>",{class:"itunes_sample_info"}).append($("<p>",{class:"itunes_sample_title"}).append($("<a>",{href:d(e.trackViewUrl),target:"blank",text:e.trackName}))).append($("<p>",{class:"itunes_sample_artist",text:e.artistName})).append($("<p>",{class:"itunes_sample_date",text:m(e.releaseDate)}))).append($("<audio>",{src:e.previewUrl,controls:!0}))}function d(e){var t=$("#affiliate_token").val();return""===t?e:e+x+t}function m(e){var t=new Date(e);return t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()}function f(){var e,t,n="";for(e=0;e<32;e++)t=16*Math.random()|0,8!==e&&12!==e&&16!==e&&20!==e||(n+="-"),n+=(12===e?4:16===e?3&t|8:t).toString(16);return n}var g="https://itunes.apple.com/search",_=5,v=0,h=$("#results"),x="&at=",k={term:"",media:"music",entity:"song",attribute:"songTerm",country:"jp",lang:"ja_jp",offset:v,limit:_};smg.result_list=[],$("#term").change(function(t){""!==t.target.value&&(n(),r(t.target.value),$("#more").css("display","inline"),e())}),$("#more").click(function(){e()}),$("#copy").click(function(){$("#generator_text").select(),document.execCommand("copy"),$("#copy").text("コピーしました！")})}();