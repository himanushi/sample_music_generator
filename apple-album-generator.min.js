/*! https://himakan.net/other/journal/sample-music-generator_album-ver MIT license */var aag={};!function(){"use strict";var t="https://itunes.apple.com/search",e=30,a=0,r=$("#results"),i="&at=",n={term:"",media:"music",entity:"song",attribute:"",country:"jp",lang:"ja_jp",offset:a,limit:e};function o(){$.getJSON(t,n,function(t,o){var l;$.each(t.results,function(t,e){var a;r.append((a=e,$("<div>",{"data-song-no":aag.result_list.length}).append($("<img>",{src:a.artworkUrl100})).append($("<p>",{text:"アーティスト名:"+a.artistName})).append($("<p>",{text:"アルバム名:"+a.collectionName})).append($("<p>",{text:"曲名:"+a.trackName})).click(function(t){var e,a,r,n,o,l,c,s;e=t.currentTarget,a=$("#generator"),r=$("#preview"),o=aag.result_list[e.dataset.songNo],n=$("<iframe>").attr("allow","autoplay *; encrypted-media *;").attr("frameborder","0").attr("height","450").attr("style","width:100%;max-width:660px;overflow:hidden;background:transparent;").attr("sandbox","allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation-by-user-activation").attr("src",(l=o.trackViewUrl,s=$("#affiliate_token").val(),$.cookie("affiliate_token",s),c=s,l=l.replace("itunes.apple.com","embed.music.apple.com").replace(/\?.*/,"&app=music"),$.cookie("affiliate_token",c),""===c?l:l+i+c)),a.children().remove(),a.append($("<textarea>",{id:"generator_text",text:n.prop("outerHTML").replace(/&amp;/g,"&")})),r.children().remove(),r.append(n),$("#copy").css("display","inline").text("コピー")}))),aag.result_list.push(e)}),l=a+e,n.offset=a=l})}function l(t){n.attribute=aag.attribute=t}function c(){aag.result_list=[],s(""),n.offset=a=0,r.children().remove()}function s(t){n.term=t}function p(t,e){c(),l(t),s(e),$("#more").css("display","inline"),o()}aag.result_list=[],aag.attribute="",$("#artist").keypress(function(t){if(13===t.which)return p("artistTerm",t.target.value),!1}),$("#album").keypress(function(t){if(13===t.which)return p("albumTerm",t.target.value),!1}),$("#song").keypress(function(t){if(13===t.which)return p("songTerm",t.target.value),!1}),$("#more").click(function(){l(aag.attribute),o()}),$("#copy").click(function(){$("#generator_text").select(),document.execCommand("copy"),$("#copy").text("コピーしました！")}),$("#affiliate_token").val($.cookie("affiliate_token"))}();